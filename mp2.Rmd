---
title: "Mini-Project 2"
author: "Paige Patrick and Vanessa Morales"
date: "October 31, 2017"
output: html_document
---


## Loading the data


```{r, include=FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```


```{r}
library(dplyr)
library(tidyverse)
library(ggplot2)
```

```{r}
glimpse(candidates)
```

```{r}
glimpse(committees)
```

```{r}
glimpse(contributions)
```

```{r}
glimpse(house_elections)
```


```{r}
transaction_info <- contributions %>%
  group_by(transaction_type, cand_id) %>%
  summarise(transaction_total = sum(transaction_amt))

glimpse(transaction_info)
```

```{r}
candidates_info <- candidates %>%
  group_by(cand_id, cand_name)

candidates_info <- candidates_info[,c("cand_id", "cand_name")]

glimpse(candidates_info)
```

```{r}
transaction_and_candidate <- transaction_info %>%
  inner_join(candidates_info, by = c("cand_id"))

glimpse(transaction_and_candidate)
```

```{r}
most_expensive_pres_candidates <- transaction_and_candidate %>%
  group_by(cand_name, cand_id) %>%
  summarise(contribution_total = sum(transaction_total))
```

```{r}
transaction_and_pres_candidates <- transaction_and_candidate %>%
  filter(cand_id == "P80003338" | cand_id == "P80003353")

glimpse(transaction_and_pres_candidates)
```

```{r}
support_pres_candidates <- transaction_and_pres_candidates %>%
  group_by(cand_id, cand_name) %>%
  mutate(support_true = transaction_type  %in% c("24C", "24E", "24F", "24K", "24Z"))
```

```{r}
support_total_pres_candidates <- support_pres_candidates %>%
  group_by(cand_id, cand_name, support_true) %>%
  summarise(support_total = sum(transaction_total))
```

```{r}
library(RColorBrewer)
display.brewer.all()
```

```{r}
ggplot(support_total_pres_candidates, aes(x = cand_name, y = support_total, fill = support_true)) +
  geom_bar(stat = "identity") +
  ggtitle("Financial Allocations Toward\n2012 Presidential Candidates") +
  scale_x_discrete("Candidates", labels = c("Barack Obama", "Mitt Romney")) + 
  scale_y_continuous("Amount Spent", labels = scales::dollar) +
  labs(fill = "Allocation Objective") +
  scale_fill_brewer(palette = "Set1", labels = c("Opposing Candidate", "Supporting Candidate")) +
  theme(plot.title = element_text(hjust = 0.5, size = 20, face = "bold"),
        axis.ticks.length = unit(0.50, "cm"),
        panel.background = element_rect(fill = "white"),
        panel.grid.major = element_line(colour = "white"),
        panel.grid.minor = element_line(colour = "white"),
        legend.title = element_text(size = 15), 
        legend.text = element_text(size = 13),
        axis.title = element_text(size = 20),
        axis.text = element_text(size = 15),
        axis.ticks.x = element_blank())
```

##Financial Allocations Spent By Committees for the 2012 Presidential Campaign 
``
``

Our data graphic shows the amount spent by committees for Barack Obama and Mitt Romney; The red represents money spent opposing the candidate and the blue indicates money spent supporting the candidate. 

The x-axis displays the two final candidates for the 2012 presidential election; Barack Obama and Mitt Romney.  The y-axis displays the total amount of money spent by committees.  

We catagorized the committee codes by transaction type based on either positive or negative money spent for or against a candidate. 
The transaction codes used by committees are as follows:

Money Spent Opposing Candidate:

24A-Independent expenditure opposing election of candidate  
24N-Communication cost against candidate (only for Form 7 filer)  
24K-Contribution made to nonaffiliated committee  

Money Spent Supporting Candidate:

24E-Independent expenditure advocating election of candidate  
24C-Coordinated party expenditure  
24F-Communication cost for candidate (only for Form 7 filer)  
24Z-In-kind contribution made to registered filer  

By using the transaction code and therefore the intention of the money, we are able to look at the amount of money going either for or against each candidate.  Our data graphic shows that 2.5 times more money was spent opposing Barack Obama than was spent opposing Mitt Romney. We felt this was interesting because it shows the sheer amount of effort spent against Barack Obama. 

To give an example of what money spent against Barack Obama goes to: below is an ad that ran during the 2012 election cycle. It is paid for by the committee Crossroads Grassroots Policy Strategies.  This committe's number 1 transaction type is 24A, (24A-Independent expenditure opposing election of candidate), against Barack Obama. 

![Ad against Obama, provided by ProPubica.org](https://assets.propublica.org/legacy/images/_threeTwo800w/gps_tv_ad_390x260_120813.jpg "Anti-Obama Ad")

Restore Our Future, American Crossroads, Americans for Prosperity, and Crossroads Grassroots Policy Strategiees are all Republican affiliated committees and they constitute the top **17** contributers of money spent to Obama, these are **negative** (using code 24A; Independent expenditure opposing election of candidate). Obama does not get a postive conribution until The Democratic National Committe squeezes in the 18 top contributing spot.

Alternately, The Republican National Committee, Restore our Future, Republican National Committee make up the top 4 committee contributors to Mitt Romney. His first **negative** money doesn't come until the 5th spot with Priorites USA Action (using code 24A; Independent expenditure opposing election of candidate)

We chose to show the net positive and negative amounts of this number crunching and committee affiliation in our data graphic so that the braoder picture of money spent for or against a candidate can be clear. 









